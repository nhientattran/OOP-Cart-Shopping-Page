(()=>{"use strict";const t={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let e;const n=new Uint8Array(16);function i(){if(!e&&(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(n)}const r=[];for(let t=0;t<256;++t)r.push((t+256).toString(16).slice(1));const s=function(e,n,s){if(t.randomUUID&&!n&&!e)return t.randomUUID();const a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n){s=s||0;for(let t=0;t<16;++t)n[s+t]=a[t];return n}return function(t,e=0){return(r[t[e+0]]+r[t[e+1]]+r[t[e+2]]+r[t[e+3]]+"-"+r[t[e+4]]+r[t[e+5]]+"-"+r[t[e+6]]+r[t[e+7]]+"-"+r[t[e+8]]+r[t[e+9]]+"-"+r[t[e+10]]+r[t[e+11]]+r[t[e+12]]+r[t[e+13]]+r[t[e+14]]+r[t[e+15]]).toLowerCase()}(a)};class a{constructor(t,e,n,i){this.id=s(),this._name=t,this._price=e,this._description=n,this._quantity=i}get name(){return this._name}set name(t){this._name=t}get price(){return this._price}set price(t){this._price=t}get description(){return this._description}set description(t){this._description=t}get quantity(){return this._quantity}set quantity(t){this._quantity=t}itemElement(){const t=document.createElement("div");t.className="card mt-3 mb-3",t.style.width="18rem";const e=document.createElement("ul");e.className="list-group list-group-flush";const n=document.createElement("li");n.className="list-group-item",n.innerText=this.name;const i=document.createElement("li");i.className="list-group-item",i.innerText=`Description: ${this.description}`;const r=document.createElement("li");r.className="list-group-item",r.innerText=`Quantity: ${this.quantity}`;const s=document.createElement("li");s.className="list-group-item",s.innerText=`Price: ${this.price}`;const a=document.createElement("button");return a.className="btn btn-primary",a.innerText="Add to Cart",a.addEventListener("click",(()=>{c.addToCart(this),c.updateCart()})),e.appendChild(n),e.appendChild(i),e.appendChild(r),e.appendChild(s),e.appendChild(a),t.appendChild(e),t}addToCart(){o.addToCart(this)}}class c{constructor(t,e){this._id=s(),this._name=t,this._age=e}get id(){return this._id}get name(){return this._name}get age(){return this._age}static loginUser(){const t=document.getElementById("user-name"),e=document.getElementById("user-age"),n=t.value,i=Number(e.value);if(!n||!i)return alert("Please enter a valid name and age. Try again!"),null;const r=document.getElementById("add-item-form");return r&&(r.style.display="block"),this.myUser=new c(n,i),this.cart=new o,this.createShopAndCart(),this.myUser}static createShopAndCart(){(new d).showItems();const t=document.getElementById("cart-area");t&&t.appendChild(this.cart.cartHTMLElement())}static cartHTMLElement(){return this.cart.updateCart()}static addToCart(t){this.cart.addToCart(t)}static updateCart(){this.cart.updateCart()}static removeFromCart(t){this.cart.removeFromCart(t)}}class o{constructor(){this._items=[]}get cart(){return this._items}addToCart(t){this._items.push(t)}removeFromCart(t){this._items=this._items.filter((e=>e.id!==t))}updateCart(){const t=document.getElementById("cart");if(t){t.innerHTML="";const e=this._items;if(0===e.length){const e=document.createElement("p");e.innerText="Your Cart is Empty",t.appendChild(e)}else e.forEach((e=>{const n=document.createElement("div");n.className="cart-item";const i=document.createElement("span");i.innerText=e.name;const r=document.createElement("span");r.innerText=` Quantity: ${e.quantity} `;const s=document.createElement("span");s.innerText=`Price: $${e.price}`;const a=document.createElement("button");a.className="btn btn-danger btn-remove",a.innerText="Remove",a.setAttribute("data-id",e.id),a.addEventListener("click",(()=>{this.removeFromCart(e.id),c.updateCart()})),n.appendChild(i),n.appendChild(r),n.appendChild(s),n.appendChild(a),t.appendChild(n)}))}return t}}class d{constructor(){this._items=[new a("Item 1",10,"Description 1",5),new a("Item 2",15,"Description 2",6),new a("Item 3",20,"Description 3",7),new a("Item 4",25,"Description 4",8),new a("Item 5",30,"Description 5",9),new a("Item 6",35,"Description 6",10)]}get items(){return this._items}showItems(){const t=document.getElementById("shop");t&&(t.innerHTML="",this._items.forEach((e=>{const n=e.itemElement();t.appendChild(n)})))}}const m=document.getElementById("submit-button");null==m||m.addEventListener("click",(()=>{if(c.loginUser()){const t=document.getElementById("login");t&&(t.style.display="none")}}));const u=document.getElementById("add-item-form");null==u||u.addEventListener("click",(()=>{const t=document.getElementById("item-name"),e=document.getElementById("item-quantity"),n=t.value.trim(),i=parseInt(e.value.trim(),10);if(n&&isNaN(i)){const t=new a(n,0,"No description",i);c.addToCart(t),c.updateCart()}}))})();